VERSION=	v1.8

CALFUSEDIR=	${PWD}/../../..

# Symbols for include directories
FUSEINCLDIR=	-I${CALFUSEDIR}/include

# Symbols used for compiling
CC=		cc
#  Romelfanger's optimizations
# OPT=		-fast -xO5 -xtarget=ultra2 -xarch=v8plusa
#
#  SunWorld's optimizations
# OPT=		-p -v -xO2 -xdepend -xchip=ultra -xarch=generic
OPT=		-g
#OPT=		-O -DCFORTRAN -KPIC -DSOLARIS
CFLAGS=		${OPT} ${FUSEINCLDIR}

# Symbols used for creating shared binaries
FUSEBINDIR=	${CALFUSEDIR}/bin
FUSELIBDIR=	-L${CALFUSEDIR}/lib
LIBDIR=		-L/opt/SUNWspro/lib
FUSELIBS=	-lsla -lcfitsio -lcf
LIBS=		-lc -lm -lnsl -ldl -lsocket -lsunmath -lM77 -lF77
LDFLAGS=	

# binaries to be made

BINS=		make_geom_file

all:		${BINS}
		chmod g+rw ${BINS}

install:	all
		/bin/cp ${BINS} ${FUSEBINDIR}

clean:		
		/bin/rm -f ${BINS}

make_geom_file:
		${CC} ${CFLAGS} -o make_geom_file make_geom_file.c \
		${FUSELIBDIR} ${LIBDIR} ${FUSELIBS} ${LIBS} ${LDFLAGS}

